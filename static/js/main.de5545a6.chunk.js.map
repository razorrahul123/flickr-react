{"version":3,"sources":["assets/flickr-logo.png","components/component/Card.js","components/component/PieChart.js","components/component/Pagination.js","components/layout/Home.js","components/component/ImageLoader.js","components/layout/Gallery.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","CardComponent","data","className","map","item","key","nsid","to","src","iconserver","alt","data-toggle","title","name","Truncate","lines","ellipsis","aria-hidden","members","pool_count","PieChart","style","height","width","position","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","colors","scheme","borderWidth","borderColor","from","modifiers","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","slicesLabelsSkipAngle","slicesLabelsTextColor","animate","motionStiffness","motionDamping","LEFT_PAGE","range","step","i","push","Pagination","totalRecords","pageLimit","pageNeighbours","onPageChanged","loading","useState","Math","ceil","totalPages","setTotalPages","currentPage","setCurrentPage","gotoPage","page","max","min","useEffect","handleClick","evt","preventDefault","handleMoveLeft","handleMoveRight","pages","totalNumbers","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","fetchPageNumbers","aria-label","index","href","onClick","Key","Home","history","group","setGroup","submitGroup","setSubmitGroup","groups","setGroups","setPage","totalCount","setTotatCount","setLoading","debounceOnChangeAsync","useCallback","func","wait","timeout","args","context","this","clearTimeout","setTimeout","apply","debounce","inputText","callback","a","axios","get","response","json","label","value","id","then","res","parseInt","total","catch","e","handleSubmit","onKeyDown","keyCode","isMulti","loadOptions","onChange","selectedGroup","placeholder","role","ImageLoader","loaded","setLoaded","onLoad","Gallery","match","photos","setPhotos","photosData","setPhotosData","maxPage","setMaxPage","pageNumber","setPageNumber","hasMore","setHasMore","currentLength","setCurrentLength","params","groupId","prev","photo","photosNew","promises","slice","forEach","all","results","result","owner","username","_content","observer","useRef","bottomBoundaryRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","ref","farm","server","secret","fontSize","display","App","basename","process","logo","exact","path","render","component","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.de5545a6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flickr-logo.d486b3f5.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Card.css\";\r\nimport Truncate from \"react-truncate\";\r\n\r\nconst CardComponent = ({ data }) => {\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        {data.map((item) => (\r\n          <div\r\n            className=\"col-6 col-md-4 col-lg-3 card-container\"\r\n            key={item.nsid}\r\n          >\r\n            <div className=\"card card-wrapper\">\r\n              <Link to={`/groups/${item.nsid}`}>\r\n                <div className=\"card-body row\">\r\n                  <div className=\"col-md-3\">\r\n                    <img\r\n                      src={`https://live.staticflickr.com/${item.iconserver}/buddyicons/${item.nsid}.jpg`}\r\n                      className=\"rounded-circle\"\r\n                      alt=\"...\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-9\">\r\n                    <div\r\n                      className=\"card-title\"\r\n                      data-toggle=\"tooltip\"\r\n                      title={item.name}\r\n                    >\r\n                      <Truncate lines={1} ellipsis={<span>...</span>}>\r\n                        {item.name}\r\n                      </Truncate>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"card-text member-container\">\r\n                        <i\r\n                          className=\"fa fa-users icon-container\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                        {item.members}\r\n                      </span>\r\n                      <span className=\"card-text\">\r\n                        <i\r\n                          className=\"fa fa-picture-o icon-container\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                        {item.pool_count}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardComponent;\r\n","import React from \"react\";\r\nimport { ResponsivePie } from \"@nivo/pie\";\r\n\r\nconst PieChart = ({ data }) => {\r\n  return (\r\n    <div\r\n      className=\"col-12 padding0 chart-container\"\r\n      style={{\r\n        height: \"450px\",\r\n        width: \"100%\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <ResponsivePie\r\n        data={data}\r\n        margin={{ top: 8, right: 20, bottom: 8, left: 20 }}\r\n        innerRadius={0.65}\r\n        padAngle={0.7}\r\n        cornerRadius={3}\r\n        colors={{ scheme: \"nivo\" }}\r\n        borderWidth={1}\r\n        borderColor={{ from: \"color\", modifiers: [[\"darker\", 0.2]] }}\r\n        radialLabelsSkipAngle={10}\r\n        radialLabelsTextXOffset={6}\r\n        radialLabelsTextColor=\"#333333\"\r\n        radialLabelsLinkOffset={0}\r\n        radialLabelsLinkDiagonalLength={16}\r\n        radialLabelsLinkHorizontalLength={24}\r\n        radialLabelsLinkStrokeWidth={1}\r\n        radialLabelsLinkColor={{ from: \"color\" }}\r\n        slicesLabelsSkipAngle={10}\r\n        slicesLabelsTextColor=\"#333333\"\r\n        animate={true}\r\n        motionStiffness={90}\r\n        motionDamping={15}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PieChart;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst LEFT_PAGE = \"LEFT\";\r\nconst RIGHT_PAGE = \"RIGHT\";\r\n\r\n/**\r\n * Helper method for creating a range of numbers\r\n * range(1, 5) => [1, 2, 3, 4, 5]\r\n */\r\nconst range = (from, to, step = 1) => {\r\n  let i = from;\r\n  const range = [];\r\n\r\n  while (i <= to) {\r\n    range.push(i);\r\n    i += step;\r\n  }\r\n\r\n  return range;\r\n};\r\nconst Pagination = ({\r\n  totalRecords,\r\n  pageLimit,\r\n  pageNeighbours,\r\n  onPageChanged,\r\n  loading,\r\n}) => {\r\n  const [totalPages, setTotalPages] = useState(\r\n    Math.ceil(totalRecords / pageLimit) || 1\r\n  );\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  useEffect(() => {\r\n    setTotalPages(Math.ceil(totalRecords / pageLimit));\r\n    gotoPage(1);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [totalRecords, pageLimit]);\r\n\r\n  function gotoPage(page) {\r\n    const currentPage = Math.max(0, Math.min(page, totalPages));\r\n    setCurrentPage(currentPage);\r\n    const paginationData = {\r\n      currentPage,\r\n      totalPages: totalPages,\r\n      pageLimit: pageLimit,\r\n      totalRecords: totalRecords,\r\n    };\r\n    onPageChanged(paginationData);\r\n  }\r\n\r\n  const handleClick = (page) => (evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(page);\r\n  };\r\n\r\n  const handleMoveLeft = (evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(currentPage - pageNeighbours * 2 - 1);\r\n  };\r\n\r\n  const handleMoveRight = (evt) => {\r\n    evt.preventDefault();\r\n    gotoPage(currentPage + pageNeighbours * 2 + 1);\r\n  };\r\n\r\n  const fetchPageNumbers = () => {\r\n    /**\r\n     * totalNumbers: the total page numbers to show on the control\r\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\r\n     */\r\n    const totalNumbers = pageNeighbours * 2 + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n\r\n    if (totalPages > totalBlocks) {\r\n      const startPage = Math.max(2, currentPage - pageNeighbours);\r\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\r\n\r\n      let pages = range(startPage, endPage);\r\n\r\n      /**\r\n       * hasLeftSpill: has hidden pages to the left\r\n       * hasRightSpill: has hidden pages to the right\r\n       * spillOffset: number of hidden pages either to the left or to the right\r\n       */\r\n      const hasLeftSpill = startPage > 2;\r\n      const hasRightSpill = totalPages - endPage > 1;\r\n      const spillOffset = totalNumbers - (pages.length + 1);\r\n\r\n      switch (true) {\r\n        // handle: (1) < {5 6} [7] {8 9} (10)\r\n        case hasLeftSpill && !hasRightSpill: {\r\n          const extraPages = range(startPage - spillOffset, startPage - 1);\r\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) {2 3} [4] {5 6} > (10)\r\n        case !hasLeftSpill && hasRightSpill: {\r\n          const extraPages = range(endPage + 1, endPage + spillOffset);\r\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) < {4 5} [6] {7 8} > (10)\r\n        case hasLeftSpill && hasRightSpill:\r\n        default: {\r\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return [1, ...pages, totalPages];\r\n    }\r\n\r\n    return range(1, totalPages);\r\n  };\r\n\r\n  if (!totalRecords || totalPages === 1) return null;\r\n  if (loading) return null;\r\n  const pages = fetchPageNumbers();\r\n\r\n  return (\r\n    <div>\r\n      <nav aria-label=\"Countries Pagination\">\r\n        <ul className=\"pagination\">\r\n          {pages.map((page, index) => {\r\n            if (page === LEFT_PAGE)\r\n              return (\r\n                <li key={index} className=\"page-item\">\r\n                  <a\r\n                    className=\"page-link\"\r\n                    href=\"/#\"\r\n                    aria-label=\"Previous\"\r\n                    onClick={handleMoveLeft}\r\n                  >\r\n                    <span aria-hidden=\"true\">&laquo;</span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                  </a>\r\n                </li>\r\n              );\r\n\r\n            if (page === RIGHT_PAGE)\r\n              return (\r\n                <li key={index} className=\"page-item\">\r\n                  <a\r\n                    className=\"page-link\"\r\n                    href=\"/#\"\r\n                    aria-label=\"Next\"\r\n                    onClick={handleMoveRight}\r\n                  >\r\n                    <span aria-hidden=\"true\">&raquo;</span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                  </a>\r\n                </li>\r\n              );\r\n\r\n            return (\r\n              <li\r\n                key={index}\r\n                className={`page-item${currentPage === page ? \" active\" : \"\"}`}\r\n              >\r\n                <a className=\"page-link\" href=\"/#\" onClick={handleClick(page)}>\r\n                  {page}\r\n                </a>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport CardComponent from \"../component/Card\";\r\nimport PieComponent from \"../component/PieChart\";\r\nimport Pagination from \"../component/Pagination\";\r\nimport \"./Home.css\";\r\n\r\nconst Key = \"1baa95454384177c798bda1b8fda590e\";\r\n\r\n//Enables throlling when searching groups\r\n\r\nfunction debounce(func, wait) {\r\n  let timeout;\r\n  return function (...args) {\r\n    const context = this;\r\n    if (timeout) clearTimeout(timeout);\r\n    timeout = setTimeout(() => {\r\n      timeout = null;\r\n      func.apply(context, args);\r\n    }, wait);\r\n  };\r\n}\r\n\r\nconst Home = ({ history }) => {\r\n  const [group, setGroup] = useState(null);\r\n\r\n  const [submitGroup, setSubmitGroup] = useState(null);\r\n  const [groups, setGroups] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [totalCount, setTotatCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Triggers debounce on loading options\r\n  const debounceOnChangeAsync = useCallback(debounce(loadOptions, 400), []);\r\n\r\n  //Executes when user submits query or changes page\r\n\r\n  useEffect(() => {\r\n    if (submitGroup) {\r\n      setLoading(true);\r\n      axios\r\n        .get(\r\n          `https://api.flickr.com/services/rest/?method=flickr.groups.search&api_key=${Key}&text=${submitGroup.value}&per_page=20&page=${page}&format=json&nojsoncallback=true`\r\n        )\r\n        .then((res) => {\r\n          setGroups(res.data.groups.group);\r\n          setTotatCount(parseInt(res.data.groups.total));\r\n          setLoading(false);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n          history.push(\"/groups\");\r\n        });\r\n    }\r\n  }, [submitGroup, page, history]);\r\n\r\n  async function loadOptions(inputText, callback) {\r\n    const response = await axios.get(\r\n      `https://api.flickr.com/services/rest/?method=flickr.groups.search&api_key=${Key}&text=${inputText}&per_page=10&page=1&format=json&nojsoncallback=true`\r\n    );\r\n\r\n    const json = response.data.groups.group;\r\n\r\n    callback(json.map((i) => ({ label: i.name, value: i.name, id: i.nsid })));\r\n  }\r\n\r\n  const handleOnChange = (selectedGroup) => {\r\n    setGroup(selectedGroup);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setSubmitGroup(group);\r\n  };\r\n\r\n  const onPageChanged = (data) => {\r\n    const { currentPage } = data;\r\n    setPage(currentPage);\r\n  };\r\n\r\n  const onEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8 col-md-10\">\r\n            <AsyncSelect\r\n              onKeyDown={onEnter}\r\n              isMulti={false}\r\n              loadOptions={debounceOnChangeAsync}\r\n              value={group}\r\n              onChange={handleOnChange}\r\n              placeholder=\"Search Groups...\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4 col-md-2  button-container\">\r\n            <button\r\n              className=\"button-wrapper btn btn-primary\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Get results\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{ position: \"relative\" }}>\r\n        {groups.length && !loading ? (\r\n          <div>\r\n            <PieComponent\r\n              data={groups.map((i) => ({\r\n                id: i.name,\r\n                value: parseInt(i.pool_count),\r\n                label: i.name,\r\n              }))}\r\n            />\r\n            <CardComponent data={groups} />\r\n          </div>\r\n        ) : loading ? (\r\n          <div style={{ position: \"relative\", width: 0, height: \"auto\" }}>\r\n            <div className=\"loader-container\">\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"pagination-container\">\r\n        <div className=\"d-flex flex-row py-4 align-items-center\">\r\n          {totalCount > 0 ? (\r\n            <Pagination\r\n              loading={loading}\r\n              totalRecords={totalCount}\r\n              pageLimit={20}\r\n              pageNeighbours={1}\r\n              onPageChanged={onPageChanged}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\n//Component for image lazy loading\r\nconst ImageLoader = ({ src }) => {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const onLoad = () => {\r\n    setLoaded(true);\r\n  };\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt={\"gallery\"}\r\n      className={loaded ? \"img-loaded\" : \"img-loading\"}\r\n      onLoad={onLoad}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ImageLoader;\r\n","import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Gallery.css\";\r\n\r\nimport ImageLoader from \"../component/ImageLoader\";\r\nconst Key = \"1baa95454384177c798bda1b8fda590e\";\r\n\r\nconst Gallery = ({ match }) => {\r\n  const [photos, setPhotos] = useState([]);\r\n  const [photosData, setPhotosData] = useState([]);\r\n  const [maxPage, setMaxPage] = useState(1);\r\n\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  const [currentLength, setCurrentLength] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (match.params.groupId) {\r\n      axios\r\n        .get(\r\n          `https://api.flickr.com/services/rest/?method=flickr.groups.pools.getPhotos&api_key=${Key}&group_id=${match.params.groupId}&per_page=20&page=${pageNumber}&format=json&nojsoncallback=true`\r\n        )\r\n        .then((res) => {\r\n          setPhotos((prev) => [...prev, ...res.data.photos.photo]);\r\n          setMaxPage(res.data.photos.pages);\r\n        });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (maxPage >= pageNumber) {\r\n      setHasMore(true);\r\n    } else {\r\n      setHasMore(false);\r\n    }\r\n  }, [maxPage, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (photos.length > 0) {\r\n      const photosNew = [];\r\n      const promises = [];\r\n      photos.slice(currentLength, currentLength + 20).forEach((i) => {\r\n        promises.push(\r\n          axios.get(\r\n            `https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key=${Key}&photo_id=${i.id}&format=json&nojsoncallback=true`\r\n          )\r\n        );\r\n      });\r\n      axios.all(promises).then((results) => {\r\n        results.forEach((result, index) => {\r\n          if (result.data.photo) {\r\n            photosNew.push({\r\n              owner: result.data.photo.owner.username,\r\n              title: result.data.photo.title._content,\r\n            });\r\n          } else {\r\n            photosNew.push({\r\n              owner: \"\",\r\n              title: \"\",\r\n            });\r\n          }\r\n        });\r\n\r\n        setPhotosData((prev) => [...prev, ...photosNew]);\r\n      });\r\n    }\r\n  }, [photos, currentLength]);\r\n\r\n  //Infinite scroll using useRef and useCallback\r\n  const observer = useRef();\r\n  const bottomBoundaryRef = useCallback(\r\n    (node) => {\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber((prev) => prev + 1);\r\n          setCurrentLength((prev) => prev + 20);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [hasMore]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {photos.length ? (\r\n        <div className=\"image-wrapper container-fluid\">\r\n          {photos.map((i, index) => {\r\n            if (photos.length === index + 1) {\r\n              return (\r\n                <div\r\n                  ref={bottomBoundaryRef}\r\n                  className=\"image-container\"\r\n                  key={i.id}\r\n                >\r\n                  {/* Lazy loads the image and keep track of the last element */}\r\n                  <ImageLoader\r\n                    src={`https://farm${i.farm}.staticflickr.com/${i.server}/${i.id}_${i.secret}.jpg`}\r\n                  />\r\n                  <div className=\"desc-container\">\r\n                    <div className=\"desc-wrapper\">\r\n                      <span>\r\n                        {photosData[index] && photosData[index].title}\r\n                      </span>\r\n                      <span style={{ fontSize: \"11px\", display: \"block\" }}>\r\n                        {photosData[index] && `By ${photosData[index].owner}`}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            } else {\r\n              return (\r\n                <div className=\"image-container\" key={i.id}>\r\n                  <ImageLoader\r\n                    src={`https://farm${i.farm}.staticflickr.com/${i.server}/${i.id}_${i.secret}.jpg`}\r\n                  />\r\n                  <div className=\"desc-container\">\r\n                    <div className=\"desc-wrapper\">\r\n                      <span>\r\n                        {photosData[index] && photosData[index].title}\r\n                      </span>\r\n                      <span style={{ fontSize: \"11px\", display: \"block\" }}>\r\n                        {photosData[index] && `By ${photosData[index].owner}`}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\nexport default Gallery;\r\n","import React from \"react\";\nimport {\n  Route,\n  BrowserRouter,\n  Switch,\n  Redirect,\n  NavLink,\n} from \"react-router-dom\";\nimport Home from \"./components/layout/Home\";\nimport Gallery from \"./components/layout/Gallery\";\nimport \"./App.css\";\nimport logo from \"./assets/flickr-logo.png\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <nav className=\"navbar navbar-light\">\n          <NavLink className=\"navbar-brand\" to=\"/groups\">\n            <img\n              src={logo}\n              width=\"30\"\n              height=\"30\"\n              className=\"d-inline-block align-top\"\n              alt=\"\"\n            />\n            Flickr\n          </NavLink>\n        </nav>\n        <Switch>\n          <Route exact path=\"/\" render={() => <Redirect to=\"/groups\" />} />\n          <Route exact path=\"/groups\" component={Home} />\n          <Route exact path=\"/groups/:groupId\" component={Gallery} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"../node_modules/font-awesome/css/font-awesome.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}